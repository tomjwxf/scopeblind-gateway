name = "scopeblind-gateway"
main = "src/index.ts"
compatibility_date = "2024-09-23"

[vars]
# Your backend API URL — requests will be forwarded here after verification
ORIGIN_URL = "https://your-backend-api.com"

# ScopeBlind Verifier endpoint (includes your tenant ID — no API key needed)
# You get this URL after scanning your endpoint at scopeblind.com
SCOPEBLIND_VERIFIER_URL = "https://api.scopeblind.com/v/YOUR_SLUG/verify"

# Shadow Mode (default: true)
# "true"  = measure only — logs what WOULD be blocked, but lets everything through
# "false" = enforce — actually blocks requests that fail verification
SHADOW_MODE = "true"

# Which HTTP methods require proof verification
# Default: POST, PUT, DELETE, PATCH (state-changing methods)
# GET requests pass through unverified by default
PROTECTED_METHODS = "POST,PUT,DELETE,PATCH"

# Fallback behavior when ScopeBlind verifier is unreachable
# "open"   = allow all traffic (better for reliability)
# "closed" = block all traffic (better for security)
FALLBACK_MODE = "open"
